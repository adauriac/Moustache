<!DOCTYPE html>
<html>
  <meta charset="utf-8"/>
  <style>

    .mydiv {
	position: absolute;
	z-index: 1;
	background-color: #11ffee00;
	width: 75px;
	height: 96px;
    }
  </style>
  
  <body>   
    <p id="demo"> </p>
    <div class="mydiv"> <img src="10c.gif"> </div>
    <div class="mydiv"> <img src="10d.gif"> </div>
    <div class="mydiv"> <img src="10h.gif"> </div>
    <div class="mydiv"> <img src="10s.gif"> </div>
    <div class="mydiv"> <img src="2c.gif"> </div>
    <div class="mydiv"> <img src="2d.gif"> </div>
    <div class="mydiv"> <img src="2h.gif"> </div>
    <div class="mydiv"> <img src="2s.gif"> </div>
    <div class="mydiv"> <img src="3c.gif"> </div>
    <div class="mydiv"> <img src="3d.gif"> </div>
    <div class="mydiv"> <img src="3h.gif"> </div>
    <div class="mydiv"> <img src="3s.gif"> </div>
    <div class="mydiv"> <img src="4c.gif"> </div>
    <div class="mydiv"> <img src="4d.gif"> </div>
    <div class="mydiv"> <img src="4h.gif"> </div>
    <div class="mydiv"> <img src="4s.gif"> </div>
    <div class="mydiv"> <img src="5c.gif"> </div>
    <div class="mydiv"> <img src="5d.gif"> </div>
    <div class="mydiv"> <img src="5h.gif"> </div>
    <div class="mydiv"> <img src="5s.gif"> </div>
    <div class="mydiv"> <img src="6c.gif"> </div>
    <div class="mydiv"> <img src="6d.gif"> </div>
    <div class="mydiv"> <img src="6h.gif"> </div>
    <div class="mydiv"> <img src="6s.gif"> </div>
    <div class="mydiv"> <img src="7c.gif"> </div>
    <div class="mydiv"> <img src="7d.gif"> </div>
    <div class="mydiv"> <img src="7h.gif"> </div>
    <div class="mydiv"> <img src="7s.gif"> </div>
    <div class="mydiv"> <img src="8c.gif"> </div>
    <div class="mydiv"> <img src="8d.gif"> </div>
    <div class="mydiv"> <img src="8h.gif"> </div>
    <div class="mydiv"> <img src="8s.gif"> </div>
    <div class="mydiv"> <img src="9c.gif"> </div>
    <div class="mydiv"> <img src="9d.gif"> </div>
    <div class="mydiv"> <img src="9h.gif"> </div>
    <div class="mydiv"> <img src="9s.gif"> </div>
    <div class="mydiv"> <img src="Ac.gif"> </div>
    <div class="mydiv"> <img src="Ad.gif"> </div>
    <div class="mydiv"> <img src="Ah.gif"> </div>
    <div class="mydiv"> <img src="As.gif"> </div>
    <div class="mydiv"> <img src="Jc.gif"> </div>
    <div class="mydiv"> <img src="Jd.gif"> </div>
    <div class="mydiv"> <img src="Jh.gif"> </div>
    <div class="mydiv"> <img src="Js.gif"> </div>
    <div class="mydiv"> <img src="Kc.gif"> </div>
    <div class="mydiv"> <img src="Kd.gif"> </div>
    <div class="mydiv"> <img src="Kh.gif"> </div>
    <div class="mydiv"> <img src="Ks.gif"> </div>
    <div class="mydiv"> <img src="Qc.gif"> </div>
    <div class="mydiv"> <img src="Qd.gif"> </div>
    <div class="mydiv"> <img src="Qh.gif"> </div>
    <div class="mydiv"> <img src="Qs.gif"> </div>
    <!-- <div class="mydiv"> <img src="0.gif"> </div> -->

    <script>
      // tablette ou ordi ?
      var isTouch = 'ontouchstart' in document.documentElement;
      document.getElementById("demo").innerHTML = isTouch;
      console.log(isTouch);
      
      let C = screen.width; // nombre de colonnes de pixels
      let margeHaut = 100, margeCentre = 20;
      let lCartes = 96,cCartes = 75; // les dim sont 75x96
      document.getElementById("demo").innerHTML = "C="+C+" ";

      //Make the DIV element draggagle:
      let elements = document.getElementsByClassName("mydiv");
      for (let i = 0; elements[i]; i++)
       	  makeElementDraggable(elements[i]);

      // positionnement a la main
      let k = 0;
      place(k++,0,-1);
      place(k++,0,-2);
      place(k++,0,-3);
      place(k++,0,-4);
      place(k++,0,-5);
      place(k++,0,-6);
      place(k++,0,1);
      place(k++,0,2);
      place(k++,0,3);
      place(k++,0,4);
      place(k++,0,5);
      
      place(k++,1,-1);
      place(k++,1,-2);
      place(k++,1,-3);
      place(k++,1,-4);
      place(k++,1,-5);
      place(k++,1,-6);
      place(k++,1,1);
      place(k++,1,2);
      place(k++,1,3);
      place(k++,1,4);
      place(k++,1,5);

      place(k++,2,-1);
      place(k++,2,-2);
      place(k++,2,-3);
      place(k++,2,-4);
      place(k++,2,-5);
      place(k++,2,1);
      place(k++,2,2);
      place(k++,2,3);
      place(k++,2,4);
      place(k++,2,5);

      place(k++,3,-1);
      place(k++,3,-2);
      place(k++,3,-3);
      place(k++,3,-4);
      place(k++,3,-5);
      place(k++,3,1);
      place(k++,3,2);
      place(k++,3,3);
      place(k++,3,4);
      place(k++,3,5);
 
      place(k++,4,-1);
      place(k++,4,-2);
      place(k++,4,-3);
      place(k++,4,-4);
      place(k++,4,-5);
      place(k++,4,1);
      place(k++,4,2);
      place(k++,4,3);
      place(k++,4,4);
      place(k++,4,5);

      place(2,3,0);
      
      function place(k,l,c) {
      	  let col = C/2 - cCartes/2 + c*cCartes;
      	  col += (c<0) ? -margeCentre : (c>0 ? margeCentre:0);
      	  let lin = margeHaut + l*lCartes;
      	  elements[k].style.left = col+"px"; // c'est la colonne
      	  elements[k].style.top = lin+"px"; // c'est la ligne
      } // FIN function place(e,l,c)
      
      function makeElementDraggable(elmnt) {
      	  var pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;
      	  var initialX=-1,initialY=-1;
      	  /*  move the DIV from anywhere inside the DIV:*/
      	  elmnt.onmousedown = dragMouseDown;

      	  function dragMouseDown(e) {
      	      //console.log("dragMouseDown ",elmnt.style.top,elmnt.style.left )
      	      console.log("dragMouseDown ",elmnt.style )
      	      console.log(e )
      	      e = e || window.event;
      	      e.preventDefault();
      	      // get the mouse cursor position at startup:
      	      pos3 = e.clientX;
      	      pos4 = e.clientY;
      	      console.log("dragMouseDown pos3 pos4",pos3,pos4 )
      	      document.onmouseup = closeDragElement;
      	      // call a function whenever the cursor moves:
      	      document.onmousemove = elementDrag;
      	  } // FIN  function dragMouseDown(e)

      	  function elementDrag(e) {
      	      e = e || window.event;
      	      e.preventDefault();
      	      // calculate the new cursor position:
      	      pos1 = pos3 - e.clientX;
      	      pos2 = pos4 - e.clientY;
      	      pos3 = e.clientX;
      	      pos4 = e.clientY;
      	      // set the element's new position:
      	      elmnt.style.top = (elmnt.offsetTop - pos2) + "px";
      	      elmnt.style.left = (elmnt.offsetLeft - pos1) + "px";
      	      console.log("drag ",elmnt.offsetTop,elmnt.offsetLeft); 
      	  } // FIN elementDrag(e)

      	  function closeDragElement() {
      	      /* stop moving when mouse button is released:*/
      	      document.onmouseup = null;
      	      document.onmousemove = null;
      	      console.log("Hello world!"); 
      	      console.log(pos1,pos2,pos3,pos4); 
      	      console.log(elmnt.offsetTop,elmnt.offsetLeft);
      	  }  // FIN  function closeDragElement()
      }
    </script>

  </body>
</html>
